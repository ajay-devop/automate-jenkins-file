pipeline {
         agent {
	        Label "aj-slave"
	 }
	  stages {
	         stage (Pull the code) {
		       steps {
		              git branch: 'main', url: 'https://github.com/ajay-devop/automate-jenkins-file.git'
		       }
		 }
		 stage (package Building) {
		       steps {
		              sh 'mvn clean package'
		       }
		 }
		 stage (Build a dockerfile) {
		       steps {
		              sh 'docker build -t image:$BUILD_TAG .'
			      sh 'docker tag img:tag udername/img:tag'
		       }
		 }
	  }
}

